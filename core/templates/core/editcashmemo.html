{% load static %}
{%load crispy_forms_tags %}

{% load mathfilters %}
<!doctype html>

<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rana Motors Limited - Invoice</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="invoice.css">

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" />
<script src="https://cdn.tailwindcss.com"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
    crossorigin="anonymous"></script>

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<style>
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: "Tahoma", sans-serif;
        font-size: 10px;
    }

    .container {
        font-family: "Tahoma", sans-serif;
        font-size: 12px;
        margin: auto;
        display: block;

    }

    h3 {
        font-size: 20px;
    }

    h5 {
        font-size: 17px;
    }

    h6 {
        font-size: 12px;
    }

    .my-0 {
        margin-left: -0.25rem;
    }


    .mt-n1 {
        margin-top: -.30rem !important;
    }


    .mt-n3 {
        margin-top: -1rem !important;
    }

    .mt-n2 {
        margin-right: -0.25rem !important;
    }
</style>
<title>cashmemeo</title>
</head>

<body>



    {% if messages %}
    <div class="messages">
        <ul>
        {% for message in messages %}
            <li class="{{ message.tags }}">
                <span class="message-content">{{ message }}</span>
                <button type="button" class="close-btn" aria-label="Close message">
                    <span aria-hidden="true">&times;</span>
                </button>
            </li>
        {% endfor %}
        </ul>
    </div>
{% endif %}

<script>
const closeButtons = document.querySelectorAll('.close-btn');

closeButtons.forEach(closeButton => {
  closeButton.addEventListener('click', function() {
    // Remove the message element associated with the clicked button
    this.parentElement.remove(); // Simplified using `remove()` for modern browsers
  });
});
</script>

<style>
.messages {
    /* Adjust styling as needed for spacing, borders, etc. */
    padding: 1rem;
    border: 1px solid #ddd;
    margin: 1rem 0;
    list-style: none; /* Remove default list styling */
}

.messages li {
    /* Adjust styling as needed for individual messages */
    padding: 0.5rem 1rem;
    display: flex; /* Allow for inline placement of message and close button */
    justify-content: space-between; /* Align items horizontally */
    align-items: center; /* Align items vertically */
    border-bottom: 1px solid #eee; /* Add subtle separation lines */
}

.message-content {
    /* Adjust styling as needed for message content */
    flex-grow: 1; /* Allow message content to expand to fill remaining space */
}

.close-btn {
    /* Adjust styling as needed for close button */
    background: none; /* Remove default button background */
    border: none; /* Remove default button border */
    padding: 0 5px; /* Add some padding for visual separation */
    cursor: pointer; /* Indicate clickable behavior */
    color: #888; /* Adjust color as needed */
    transition: color 0.2s ease-in-out; /* Add smooth color transition on hover */
}

.close-btn:hover {
    color: #333; /* Change color on hover */
}
</style>



    





 

        <nav class="flex items-center justify-between flex-wrap bg-stone-600 ">
            <div class="flex items-center flex-shrink-0 text-white mr-6">
              <img src="http://www.ranamotorsbd.com/images/Rana-Motors-Logo.png" class="top1 " alt="">
              <span class="font-semibold text-xl tracking-tight">RANA MOTORS</span>
            </div>
            <div class="block lg:hidden">
              <button class="flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white">
                <svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg>
              </button>
            </div>
            <div class="w-full block flex-grow lg:flex lg:items-center lg:w-auto">
              <div class="text-sm lg:flex-grow">
                
        
              
                {% if user.is_authenticated %}
                    <a href="{% url 'logout' %}" class="block mt-4 lg:inline-block lg:mt-0 text-white hover:text-white mr-4">
                        Logout
                    </a>
        
                    <a href="{% url 'cart' %}" class="block mt-4 lg:inline-block lg:mt-0 text-white hover:text-white mr-4">
                      HOME
                  </a>

                  <a href="{% url 'soldlist' %}" class="block mt-4 lg:inline-block lg:mt-0 text-white hover:text-white mr-4">
                    invoice list
                </a>
                 
                   
                {% else %}
                    <a href="{% url 'login' %}" class="block mt-4 lg:inline-block lg:mt-0 text-orange-200 hover:text-white mr-4">
                        Login
                    </a>
                {% endif %}
              </div>
            </div>
          </nav>


          <div class="container">

        <div class="card card-one">

            

            <table class="table table-sm table-bordered border-dark mt-n1">
                <thead class="" style="background: rgba(77, 78, 83, 0.425);">
                    <tr>
                        <th class="text-center" scope="col">SL#</th>
                        <th class="text-center" scope="col">SPARE PRODUCT</th>
                        <th class="text-center" scope="col">MAIN GROUP</th>
                        <th class="text-center" scope="col">Group PRODUCT</th>
                        <th class="text-center" scope="col">SINGLE PRODUCT</th>
                        <th class="text-center" scope="col">Quantity</th>
                        <th class="text-center" scope="col">Unit Price</th>
                      
                        <th class="text-center" scope="col">Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for rs in orders %}
                    <tr>
                        <td scope="row">{{ forloop.counter }}</td>
            
                        {% if rs.sparename %}
                            <td>{{ rs.sparename }} {{ rs.engine_no }}</td>
                            <td></td>
                            <td></td>
                            <td></td>

                        {% elif rs.product.mother == true %}
                            <td></td>
                            <td></td>
                            <td>{{ rs.product.name }} {{ rs.engine_no }}</td>
                            <td></td>
                        {% elif rs.product.groupname %}
                            <td></td>
                            <td>{{ rs.product.name }} {{ rs.engine_no }}</td>
                            <td></td>
                            <td></td>
                        {% elif rs.product.name %}
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>{{ rs.product.name }} {{ rs.engine_no }}</td>
                        {% endif %}
            
                        <td class="text-right">{{ rs.quantity }}</td>
                        <td>{{ rs.price1 }}</td>
                        <td>
                            <button class="bg-blue-500 hover:bg-blue-700 text-blue-600 text-xs font-bold py-1 px-1 rounded w-40 mr-px"
                                onclick="window.location.href = '/{{ rs.id }}/fianaleditcashmemo'">
                                Edit
                            </button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            
            
            





            </div>


          




            
        </div>
    </div>
    <!-- code pro -->


   


              
                <div class="flex flex-col justify-between block  rounded-lg shadow-lg bg-white max-w-m p-3">
                    {% for product in user_products %}
                    <div class="flex justify-between my-1">
                        <p>
                            {{ product.quantity }} x {{ product.price1 }}<b> {{ product.product.name }}</b>
                        </p>
                        <p>
                            <span>${{ product.total_price }}</span>

                        </p>
                    </div>
                    {% endfor %}

                   
                    {% load crispy_forms_tags %}
                    <form method="POST" class="post-form">
                        {% csrf_token %}
                        {{ form|crispy}}
                        <br>
                        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-blue-600 text-xs font-bold py-1 px-1 rounded w-40 mr-px">
                            <span class="glyphicon glyphicon-floppy-disk"></span> Save
                        </button>
                    </form>

                </div>
              
            </div>
        </div>
    </div>
    














    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</body>

</html>